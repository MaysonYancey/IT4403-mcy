<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Search and Bookshelf</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/books/jsapi.js"></script>
</head>
<body>

    <div id="search-container">
        <h1>Search for Books</h1>
        <p>Enter a search term to find your favorite books</p>
        <input type="text" id="search-term" placeholder="Enter search term">
        <button id="search-button">Search</button>
    </div>
    <div id="results-container"></div>

    <div id="bookshelf-container">
        <h1>My Personal Bookshelf</h1>
        <p>I hope you enjoy viewing some of my books!</p>
    </div>

    <div id="book-details-container" class="book-details-layout"></div>
    <div id="viewerCanvas" class="centered"></div>

    <script>
        $(document).ready(function() {
           
            // Book Search Functionality
            $("#search-button").click(function() {
                var searchTerm = $("#search-term").val();
                if (searchTerm) {
                    $.ajax({
                        url: 'https://www.googleapis.com/books/v1/volumes?q=' + searchTerm,
                        method: 'GET',
                        success: function(data) {
                            displaySearchResults(data.items);
                        }
                    });
                }
            });

            function displaySearchResults(books) {
                var resultsContainer = $("#results-container");
                resultsContainer.empty();
                books.forEach(function(book) {
                    var bookItem = $('<div class="book-item"></div>');
                    bookItem.append('<h3>' + book.volumeInfo.title + '</h3>');
                    if (book.volumeInfo.imageLinks) {
                        bookItem.append('<img src="' + book.volumeInfo.imageLinks.thumbnail + '" alt="' + book.volumeInfo.title + '">');
                    }
                    resultsContainer.append(bookItem);
                });
            }

            // Bookshelf Functionality
            $.ajax({
                url: 'path/to/your/bookshelf/data', // Update with actual URL
                method: 'GET',
                success: function(data) {
                    displayBookshelf(data.items);
                }
            });

            function displayBookshelf(books) {
                var bookshelfContainer = $("#bookshelf-container");
                bookshelfContainer.empty();
                books.forEach(function(book) {
                    var bookItem = $('<div class="book-item"></div>');
                    bookItem.append('<h3>' + book.title + '</h3>');
                    if (book.image) {
                        bookItem.append('<img src="' + book.image + '" alt="' + book.title + '">');
                    }
                    bookshelfContainer.append(bookItem);
                });
            }

            // Book Details Functionality
            $(document).on('click', '.book-item', function() {
                var bookId = $(this).data('id'); // Assume each book-item has a data-id attribute
                $.ajax({
                    url: 'https://www.googleapis.com/books/v1/volumes/' + bookId,
                    method: 'GET',
                    success: function(data) {
                        displayBookDetails(data);
                    }
                });
            });

            function displayBookDetails(book) {
                var detailsContainer = $("#book-details-container");
                detailsContainer.empty();
                var bookInfo = $('<div class="book-info"></div>');
                bookInfo.append('<h1>' + book.volumeInfo.title + '</h1>');
                bookInfo.append('<p>' + book.volumeInfo.description + '</p>');
                detailsContainer.append(bookInfo);
            }
        });
    </script>
</body>
</html>
